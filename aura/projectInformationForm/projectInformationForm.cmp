<aura:component controller="LotsController" implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes,force:lightningQuickAction" access="global">
    <aura:attribute name="newProject" type="Project__c"
                    default="{ 'sobjectType': 'Project__c',
                    'Name': '',
                    'Description__c': '',
                    'Location__c': '',
                    'Video__c': '',
                    'Budget__c': '',
                    'Days__c': '',
                    'Category__c': '',
                    'Information__c': '',
                    'Wallet__c': '' }"/>
    <aura:attribute name="myRecordId" type="Id" />
    <aura:attribute name="lots" type="Lot__c[]" />
    <aura:attribute name="data" type="String" />
    <aura:attribute name="contentType" type="String" />
    <aura:attribute name="fileName" type="String" />
    <aura:handler name="init" action="{!c.doInit}" value="{!this}"/>
    <form class="slds-form--stacked">          
        <lightning:input aura:id="projectform" label="Project Name"
                         name="projectname"
                         value="{!v.newProject.Name}"
                         required="true"/> 
        <lightning:textarea aura:id="projectform" label="Project Description"
                            name="projectdescription"
                            value="{!v.newProject.Description__c}"
                            required="true"/> 
        <lightning:input aura:id="projectform" label="Location"
                         type="text"
                         name="projectlocation"
                         value="{!v.newProject.Location__c}"
                         required="true"/> 
        <lightning:input type="file" label="Image" name="file" multiple="false" accept="image/png, image/jpg" onchange="{! c.handleUploadFinished }"/>
        <lightning:input aura:id="projectform" label="Project Video"
                         type="url"
                         name="projectvideo"
                         value="{!v.newProject.Video__c}"
                         required="true"/> 
        <lightning:input type="text" aura:id="projectform" label="Project budget"
                         name="projectbudget"
                         min="0.1"
                         formatter="currency"
                         step="0.01"
                         value="{!v.newProject.Budget__c}"
                         messageWhenRangeUnderflow="Enter an amount that's at least $0.10."/>
        <lightning:input aura:id="projectform" label="Project days"
                         type="number"
                         max="365"
                         name="projectdays"
                         value="{!v.newProject.Days__c}"
                         required="true"/> 
         <lightning:inputRichText aura:id="projectform"
                                 value="{!v.newProject.Information__c}"/>
          <c:categoryLookup selectedRecord="{!v.newProject.Category__c.Name}" project="{!v.newProject}"/>
        <lightning:input aura:id="projectform" label="Project wallet"
                         type="text"
                         name="projectwallet"
                         value="{!v.newProject.Wallet__c}"
                         required="true"/> 
        <c:lots lots="{!v.lots}"/>
        <lightning:button label="Create" 
                          class="slds-m-top--medium"
                          variant="brand"
                          onclick="{!c.clickCreate}"/>
    </form>
</aura:component>